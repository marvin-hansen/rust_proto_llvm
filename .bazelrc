# Helper file to define bazel runtime params

# Make sure that bzlmod are used by default
common --enable_bzlmod

BAZEL_LINKOPTS=-lc++

coverage --java_runtime_version=remotejdk_11

# NOTE: increase test-timeouts
common --test_timeout=1200

# balance between debug info and performance
build --show_progress_rate_limit=10

# Use colors to highlight output on the screen. Set to `no` if your CI does not display colors.
# Docs: https://bazel.build/docs/user-manual#color
build --color=yes

# Add a timestamp to each message generated by Bazel specifying the time at which the message was
# displayed.
# Docs: https://bazel.build/docs/user-manual#show-timestamps
build --show_timestamps

# Announce all announces command options read from the bazelrc file(s) when starting up at the
# beginning of each Bazel invocation. This is very useful on CI to be able to inspect what Bazel rc
# settings are being applied on each run.
# Docs: https://bazel.build/docs/user-manual#announce-rc
build --announce_rc

# enable protoc toolchain resolution
build --incompatible_enable_proto_toolchain_resolution

# required for rust cargo to work
build --incompatible_merge_fixed_and_default_shell_env

# build --platforms=@bazel_tools//platforms:host_platform

# import correctness to highlight errors
import %workspace%/.build/bazel/bazelrc/correctness.bazelrc
import %workspace%/.build/bazel/bazelrc/performance.bazelrc
